{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst email = document.querySelector('.email');\nconst message = document.querySelector('.message');\nconst key = 'feedback-form-state';\n\nif (localStorage.getItem(key)) {\n  setPreviousValue();\n}\nconst valueObj = JSON.parse(localStorage.getItem(key)) || {};\n\nform.addEventListener('input', saveValue);\nfunction saveValue(event) {\n  const value = event.target.value;\n  valueObj[event.target.name] = value.trim();\n  localStorage.setItem(key, JSON.stringify(valueObj));\n}\n\nfunction setPreviousValue() {\n  const previousValues = JSON.parse(localStorage.getItem(key));\n  const previousEmail = previousValues.email;\n  const previousMessage = previousValues.message;\n\n  email.value = previousEmail || '';\n  message.value = previousMessage || '';\n}\n\nform.addEventListener('submit', formSubmit);\nfunction formSubmit(event) {\n  if (email.value.trim() && message.value.trim()) {\n    event.preventDefault();\n    console.log(valueObj);\n    event.currentTarget.reset();\n    localStorage.removeItem(key);\n  } else {\n    alert('You should fill in the form');\n  }\n}\n"],"names":["form","email","message","key","setPreviousValue","valueObj","saveValue","event","value","previousValues","previousEmail","previousMessage","formSubmit"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAM,sBAER,aAAa,QAAQA,CAAG,GAC1BC,IAEF,MAAMC,EAAW,KAAK,MAAM,aAAa,QAAQF,CAAG,CAAC,GAAK,GAE1DH,EAAK,iBAAiB,QAASM,CAAS,EACxC,SAASA,EAAUC,EAAO,CACxB,MAAMC,EAAQD,EAAM,OAAO,MAC3BF,EAASE,EAAM,OAAO,IAAI,EAAIC,EAAM,OACpC,aAAa,QAAQL,EAAK,KAAK,UAAUE,CAAQ,CAAC,CACpD,CAEA,SAASD,GAAmB,CAC1B,MAAMK,EAAiB,KAAK,MAAM,aAAa,QAAQN,CAAG,CAAC,EACrDO,EAAgBD,EAAe,MAC/BE,EAAkBF,EAAe,QAEvCR,EAAM,MAAQS,GAAiB,GAC/BR,EAAQ,MAAQS,GAAmB,EACrC,CAEAX,EAAK,iBAAiB,SAAUY,CAAU,EAC1C,SAASA,EAAWL,EAAO,CACrBN,EAAM,MAAM,KAAI,GAAMC,EAAQ,MAAM,QACtCK,EAAM,eAAc,EACpB,QAAQ,IAAIF,CAAQ,EACpBE,EAAM,cAAc,QACpB,aAAa,WAAWJ,CAAG,GAE3B,MAAM,6BAA6B,CAEvC"}