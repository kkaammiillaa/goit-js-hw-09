{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst email = form.elements.email;\nconst message = form.elements.message;\nconst key = 'feedback-form-state';\n\nif (localStorage.getItem(key)) {\n  setPreviousValue();\n}\n\nform.addEventListener('input', saveValue);\nfunction saveValue(event) {\n  const valueObj = JSON.parse(localStorage.getItem(key)) || {};\n  const value = event.target.value;\n  valueObj[event.target.name] = value.trim();\n  localStorage.setItem(key, JSON.stringify(valueObj));\n}\n\nfunction setPreviousValue() {\n  const previousValues = JSON.parse(localStorage.getItem(key));\n  const previousEmail = previousValues.email;\n  const previousMessage = previousValues.message;\n\n  email.value = previousEmail || '';\n  message.value = previousMessage || '';\n}\n\nform.addEventListener('submit', formSubmit);\nfunction formSubmit(event) {\n  if (email.value.trim() && message.value.trim()) {\n    event.preventDefault();\n    console.log(JSON.parse(localStorage.getItem(key)));\n    event.currentTarget.reset();\n    localStorage.removeItem(key);\n  } else {\n    alert('You should fill in the form');\n  }\n}\n"],"names":["form","email","message","key","setPreviousValue","saveValue","event","valueObj","value","previousValues","previousEmail","previousMessage","formSubmit"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,SAAS,MACtBE,EAAUF,EAAK,SAAS,QACxBG,EAAM,sBAER,aAAa,QAAQA,CAAG,GAC1BC,IAGFJ,EAAK,iBAAiB,QAASK,CAAS,EACxC,SAASA,EAAUC,EAAO,CACxB,MAAMC,EAAW,KAAK,MAAM,aAAa,QAAQJ,CAAG,CAAC,GAAK,GACpDK,EAAQF,EAAM,OAAO,MAC3BC,EAASD,EAAM,OAAO,IAAI,EAAIE,EAAM,OACpC,aAAa,QAAQL,EAAK,KAAK,UAAUI,CAAQ,CAAC,CACpD,CAEA,SAASH,GAAmB,CAC1B,MAAMK,EAAiB,KAAK,MAAM,aAAa,QAAQN,CAAG,CAAC,EACrDO,EAAgBD,EAAe,MAC/BE,EAAkBF,EAAe,QAEvCR,EAAM,MAAQS,GAAiB,GAC/BR,EAAQ,MAAQS,GAAmB,EACrC,CAEAX,EAAK,iBAAiB,SAAUY,CAAU,EAC1C,SAASA,EAAWN,EAAO,CACrBL,EAAM,MAAM,KAAI,GAAMC,EAAQ,MAAM,QACtCI,EAAM,eAAc,EACpB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQH,CAAG,CAAC,CAAC,EACjDG,EAAM,cAAc,QACpB,aAAa,WAAWH,CAAG,GAE3B,MAAM,6BAA6B,CAEvC"}